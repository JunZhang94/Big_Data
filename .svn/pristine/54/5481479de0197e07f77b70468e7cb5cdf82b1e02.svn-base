//placeholder属性模拟插件
(function(a){a.fn.placeholder=function(b){var d={labelMode:false,labelStyle:{},labelClass:"",labelAlpha:false,labelAcross:false};var e=a.extend({},d,b||{});var c=function(g,f){if(g.val()===""){f.css("opacity",0.4).html(g.data("placeholder"))}else{f.html("")}};a(this).each(function(){var h=a(this),g="placeholder" in document.createElement("input"),j=h.attr("placeholder");if(!j||(!e.labelMode&&g)||(e.labelMode&&!e.labelAcross&&g)){return}h.data("placeholder",j);if(e.labelMode){var f=h.attr("id"),i=null;if(!f){f="placeholder"+Math.random();h.attr("id",f)}i=a('<label for="'+f+'"></label>').css(a.extend({lineHeight:"1.3",position:"absolute",color:"#dadada",cursor:"text",margin:"2px 0 0 3px"},e.labelStyle)).addClass(e.labelClass).insertBefore(h);if(e.labelAlpha){h.bind({focus:function(){c(a(this),i)},input:function(){c(a(this),i)},blur:function(){if(this.value===""){i.css("opacity",1).html(j)}}});if(!window.screenX){h.bind("keyup",function(){c(a(this),i)});h.get(0).onpaste=function(){setTimeout(function(){c(h,i)},30)}}i.get(0).oncontextmenu=function(){h.trigger("focus");return false}}else{h.bind({focus:function(){i.html("")},blur:function(){if(a(this).val()===""){i.html(j)}}})}if(e.labelAcross){h.removeAttr("placeholder")}if(h.val()===""){i.html(j)}}else{h.bind({focus:function(){if(a(this).val()===j){a(this).val("")}a(this).css("color","")},blur:function(){if(a(this).val()===""){a(this).val(j).css("color","#dadada")}}});if(h.val()===""){h.val(j).css("color","#dadada")}}})}})(jQuery);